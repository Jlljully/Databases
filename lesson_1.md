# Домашнее задание к занятию 1. «Типы и структура СУБД»

## Задача 1

Архитектор ПО решил проконсультироваться у вас, какой тип БД 
лучше выбрать для хранения определённых данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

- электронные чеки в json-виде,
- склады и автомобильные дороги для логистической компании,
- генеалогические деревья,
- кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации,
- отношения клиент-покупка для интернет-магазина.

Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

### Ответ

1. Чеки в документоориентированную nosql - например, в mongoDB
2. Графовая нереляционная БД
3. Графовая нереляционная БД
4. Redis или другая нереляционная БД ключ-значение
5. какая-нибудь реляционная БД, например, postgreSQL

## Задача 2

Вы создали распределённое высоконагруженное приложение и хотите классифицировать его согласно 
CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если 
(каждый пункт — это отдельная реализация вашей системы и для каждого пункта нужно привести классификацию):

- данные записываются на все узлы с задержкой до часа (асинхронная запись);
- при сетевых сбоях система может разделиться на 2 раздельных кластера;
- система может не прислать корректный ответ или сбросить соединение.

Согласно PACELC-теореме как бы вы классифицировали эти реализации?

### Ответ

1. AP (не консистентна)
2. CA (не устойчива к разделению)
3. CP (не доступна)

## Задача 3

Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?

### Ответ

Принцип BASE был описан создателем CAP теоремы как протипопоставляемый принципу ACID. 
ACID и BASE принципы - это два подхода в построении целостных систем, работающих с данными.

ACID описывает основные свойства транзакций, которые обеспечивают надежность и консистентность данных - атомарность, согласованность, изолированность и стойкость. Эти свойства дополняют друг друга и обеспечивают корректность выполнения операций внутри транзакции.

BASE (Basically Available, Soft state, Eventually consistent – Базовая доступность, неустойчивое состояние, конечная согласованность) - это подход к построению распределенных систем, которые не требуют строгой согласованности в реальном времени и обеспечивают высокую доступность и отказоустойчивость. Системы, построенные на базе принципа BASE, не гарантируют мгновенную согласованность данных, но обеспечивают компромисс между доступностью и согласованностью.

На данный момент, ACID и BASE - принципы взаимодополняющие, и в некоторых случаях их можно использовать совместно.

Например, в распределенных системах, которые обрабатывают большие объемы данных, может быть реализована комбинация ACID и BASE принципов. ACID может использоваться при работе с критически важными данными, которые требуют мгновенной и консистентной записи, в то время как BASE может использоваться при работе с "мягкими" данными, которые могут быть сверху согласованными с течением времени. Это помогает обеспечить высокую доступность и отказоустойчивость системы, не пренебрегая важностью целостности данных.


## Задача 4

Вам дали задачу написать системное решение, основой которого бы послужили:

- фиксация некоторых значений с временем жизни,
- реакция на истечение таймаута.

Вы слышали о key-value-хранилище, которое имеет механизм Pub/Sub. 
Что это за система? Какие минусы выбора этой системы?

### Ответ

Система Pub/Sub обеспечивает асинхронное, публикационно-подписное взаимодействие между приложениями:
1. Приложение, которое является издателем, отправляет сообщение определенной теме/топику, которая создана в системе Pub/Sub.
2. Сообщение направляется всем подписчикам, которые зарегистрировали свое желание получать сообщения по этой теме/топику.
3. Каждый подписчик может обработать сообщение или проигнорировать его.

Если говорить про БД, то примером будет REDIS. 

Из минусов такой системы вижу возможную неконсистентность (т.к. асинхронная передача). У нас в задаче еще и таймаут есть для данных - могут оказаться невостребованными и стухнуть. 
